坐标系统

### 视口 
画布区域，svg使用width height 确定视口的大小 
属性可以上em ex px pt pc cm mm in 和百分比

## 默认用户坐标
左上角是视口的原点，x向右递增，y向下递增

## 指定用户坐标
可以自己为视口设置一个用户坐标，在svg上设置viewBox属性
viewBox有四个值 minx, miny, width, height
如果viewBox的长宽比例与视口的长宽比例不同，那么SVG可以有以下三种选择：
	a. 按较小的尺寸等比例缩放图形，使图形完全填充视口
	b. 按较大的尺寸等比例缩放图形，病裁减掉超出视口的部分
	c. 拉伸和压缩绘图以使其恰好填充视口
preserveAspectRatio属性允许指定被缩放的图形相对视口的对齐方式,格式为preserveAspectRatio = "alignment[meet|slice]"
·***alignment***指定轴和位置，x和y方向都有min,mid,max三种方式，分别表示x和y方向的对齐方式，对齐方式由x和y组合指定，共9中方式，也就是alignment共有如下9个取值
·***meet***说明符在图形超出视口时候会对图形适当缩小调整适配可用的空间
·***slice***说明符直接裁剪超出视口的部分
除了上述操作之外，还可以指定**preserveAspectRatio="none"**，用于在viewBox和视口宽高比不同时缩放图像，此时图像不会被等比例缩放，会被拉伸、挤压、变形。

## 基本形状

###  1. 线段

line元素，使用x1,y1,x2,y2属性指定线段的起止点坐标。有如下特性:
| 特性             | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| stroke-width     | 笔画宽度，坐标网格线位于笔画的正中间，可以使用css的shape-rendering值来控制反锯齿特性 |
| stroke           | 笔画颜色                                                     |
| stroke-opacity   | 线条的不透明度                                               |
| stroke-dasharray | 虚线，由一系列数字组成，数字个数为偶数(负责会自动重复一遍使其为偶数),表示线长-间隙-线长-间隙... |

### 2. 矩形

rect元素，使用x,y,width,height表示一个矩形

| 特性         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| fill         | 填充颜色                                                     |
| fill-opacity | 填充不透明度                                                 |
| stroke       | 边框颜色                                                     |
| stroke-width | 边框宽度，边框是骑在矩形边界上的，一半在矩形外，一半在矩形内 |
| rx/ry        | 圆角矩形，最大值为矩形宽/高的一半，如果只指定了一个，则认为两个都为相同的值 |

### 3. 圆和椭圆

circle元素表示圆,由cx,cy,r属性界定 ellipse元素表示椭圆,由cx,cy,rx,ry界定

| 特性         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| fill         | 填充颜色                                                     |
| fill-opacity | 填充不透明度                                                 |
| stroke       | 边框颜色                                                     |
| stroke-width | 边框宽度，边框是骑在圆的边界上的，一半在圆/椭圆外，一半在圆/椭圆内 |

### 4. 多边形

polygon元素指定一个多边形,由points属性指定的一系列坐标点界定，会自动封闭

| 特性         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| fill         | 填充颜色                                                     |
| fill-opacity | 填充不透明度                                                 |
| stroke       | 边框颜色                                                     |
| stroke-width | 边框宽度                                                     |
| fill-rule    | 填充规则，如果多边形的边有交叉时，需要指定，可以取mozero(默认)和evenodd两个值。 |

fill-rule值为nonzero时的原理:判断一个点是在多边形内部还是外部时，从这个点画一条到无穷远的射线，然后数这个线和多边形的边有多少次交叉。如果交叉的边线是从右往左画，则总数加1，如果是从左往右则总数减1.如果最后总数为0则认为改点在图形外部，否则在内部。

fill-rule值为evenodd时只数射线与多边形边的交叉次数，如果为奇数则认为在多边形内部，否则认为在多边形外部。

### 5. 折线

polyline元素表示一个折线，使用points属性指定一系列点，不自动封闭图形。

### 6. 特性总结

| 特性              | 说明                                         |
| ----------------- | -------------------------------------------- |
| stroke            | 笔画颜色                                     |
| stroke-width      | 笔画宽度                                     |
| stroke-opacity    | 笔画不透明度                                 |
| stroke-dasharray  | 虚线笔画                                     |
| stroke-linecap    | 笔画头的形状 butt(默认),round,square         |
| stroke-linejoin   | 图形棱角，有miter(默认),round和bevel三个取值 |
| stroke-miterlimit | 相交处显示宽度与线宽的最大比例，默认为4      |
| fill              | 填充颜色 默认black                           |
| fill-opacity      | 填充不透明度                                 |
| fill-rule         | 填充规则                                     |

## 文档结构

g元素：分组

use元素: 在SVG文档内取得目标节点，并在别的地方复制它们。它的效果等同于这些节点被深克隆到一个不可见的DOM中，然后将其粘贴到use元素的位置，

## 坐标系统变换

transform = "translate(x,y)"

transform="scale(x-value,y-value)"

## 路径

### path命令

SVG中所有基本形状都是path的简写形式，但是建议使用简写形式，因为这样可以使SVG文档更可读。

path元素更通用，可以通过制定一系列相互连接的线、弧、曲线来绘制任意形状的轮廓，这些轮廓也可以填充或者绘制轮廓线，也可以用来定义裁剪区域或蒙版。

下表为path命令总结，其中大写表示绝对坐标，小写表示相对坐标：

| 命令 | 参数                                      | 说明                                                         |
| ---- | ----------------------------------------- | ------------------------------------------------------------ |
| M m  | x y                                       | 移动画笔到制定坐标                                           |
| L l  | x y                                       | 绘制一条到给定坐标的线                                       |
| H h  | x                                         | 绘制一条到给定x坐标的横线                                    |
| V v  | y                                         | 绘制一条到给定y坐标的垂线                                    |
| A a  | rx ry x-axis-rotation large-arc sweep x y | 圆弧曲线命令有7个参数，依次表示x方向半径、y方向半径、旋转角度、大圆标识、顺逆时针标识、目标点x、目标点y。大圆标识和顺逆时针以0和1表示。0表示小圆、逆时针 |
| Q q  | x1 y1 x y                                 | 绘制一条从当前点到x,y控制点为x1,y1的二次贝塞尔曲线           |
| C c  | x1 y1 x2 y2 x y                           | 绘制一条从当前点到x,y控制点为x1,y1 x2,y2的三次贝塞尔曲线     |
| T t  | x y                                       | 绘制一条从当前点到x,y的光滑二次贝塞尔曲线，控制点为前一个Q命令的控制点的中心对称点，如果没有前一条则已当前点为控制点。 |
| S s  | x2 y2 x y                                 | 绘制一条从当前点到x,y的光滑三次贝塞尔曲线。第一个控制点为前一个C命令的第二个控制点的中心对称点，如果没有前一条曲线，则第一个控制点为当前的点。 |

路径的填充同样可以使用fill-rule属性指定填充规则，如果需要填充一个中空的形状，则只需要注意外侧路径顺逆时针方向和内侧空心区域顺逆时针方向即可

###  marker元素

marker元素用来在path上添加一个标记，比如箭头之类的。

首先需要定义好marker元素，然后在path中引用，一个marker标记是一个独立的图形，有自己的私有坐标。

## 图案和渐变

填充图形或笔画除了使用fill stroke 纯色 ， 还可以使用图案和渐变填充
图案对象使用pattern元素定义，pattern元素内部包裹了图案的path元素。

线性渐变使用linearGradient元素表示：
径向渐变



+


















